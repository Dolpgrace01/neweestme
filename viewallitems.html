<!DOCTYPE html>
<html lang="en" data-theme="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>View All | Olb Clothings Global</title>
    <link href="https://fonts.googleapis.com/css2?family=Bodoni+Moda:wght@700;900&family=Montserrat:wght@300;500;700&display=swap" rel="stylesheet">
    <script src="https://js.paystack.co/v1/inline.js"></script>
    
    <style>
        :root {
            --bg: #F9F9F7; --nav-bg: rgba(249, 249, 247, 0.9); --text: #2D1B14;
            --gold: #C5A059; --forest: #1B3022; --card: #FFFFFF; --border: rgba(0,0,0,0.1);
        }
        [data-theme="dark"] {
            --bg: #0F0F0F; --nav-bg: rgba(15, 15, 15, 0.95); --text: #F9F9F7;
            --gold: #D4AF37; --card: #1A1A1A; --border: rgba(255,255,255,0.08);
        }

        * { margin: 0; padding: 0; box-sizing: border-box; transition: background 0.3s, color 0.3s; }
        body { background: var(--bg); color: var(--text); font-family: 'Montserrat', sans-serif; padding-top: 100px; }

        /* --- Global Nav --- */
        nav {
            position: fixed; top: 0; width: 100%; height: 80px;
            display: flex; justify-content: space-between; align-items: center;
            padding: 0 5%; background: var(--nav-bg); backdrop-filter: blur(15px);
            z-index: 1000; border-bottom: 1px solid var(--border);
        }
        .logo { font-family: 'Bodoni Moda', serif; font-size: 1.5rem; font-weight: 900; color: var(--text); text-decoration: none; letter-spacing: 2px; }
        .nav-btns { display: flex; gap: 20px; align-items: center; }
        .icon-btn { background: none; border: none; color: var(--text); cursor: pointer; font-size: 0.7rem; font-weight: 700; letter-spacing: 1px; text-transform: uppercase; }

        /* --- Catalog Styling --- */
        .catalog-container { max-width: 1400px; margin: 0 auto; padding: 0 5%; }
        .catalog-header { margin-bottom: 50px; text-align: center; }
        .catalog-header h1 { font-family: 'Bodoni Moda', serif; font-size: 3rem; margin-bottom: 10px; }
        
        .product-grid { 
            display: grid; grid-template-columns: repeat(auto-fill, minmax(250px, 1fr)); gap: 30px; 
        }

        .item-card { 
            background: var(--card); border: 1px solid var(--border); padding: 15px; 
            display: flex; flex-direction: column; position: relative;
        }
        .item-card:hover { border-color: var(--gold); }
        .item-img { width: 100%; aspect-ratio: 3/4; object-fit: cover; margin-bottom: 15px; background: #222; }
        .item-card h4 { font-size: 0.85rem; margin-bottom: 5px; font-weight: 600; }
        .item-price { color: var(--gold); font-weight: 700; margin-bottom: 15px; }
        
        .buy-btn { 
            margin-top: auto; padding: 12px; background: var(--forest); color: white; 
            border: 1px solid var(--gold); cursor: pointer; font-size: 0.7rem; font-weight: 700;
        }

        /* --- Cart Side Panel --- */
        .cart-panel {
            position: fixed; right: -400px; top: 0; width: 400px; height: 100vh;
            background: var(--card); z-index: 2000; padding: 40px; 
            box-shadow: -10px 0 30px rgba(0,0,0,0.5); display: flex; flex-direction: column;
        }
        .cart-panel.open { right: 0; }
        .cart-items { flex-grow: 1; overflow-y: auto; margin: 30px 0; }
        .cart-total-row { border-top: 2px solid var(--gold); padding-top: 20px; margin-bottom: 20px; }
        
        .paystack-btn { 
            width: 100%; padding: 20px; background: var(--gold); color: black; 
            border: none; font-weight: 800; cursor: pointer; letter-spacing: 1px;
        }

        .overlay { position: fixed; inset: 0; background: rgba(0,0,0,0.7); display: none; z-index: 1500; }
        .overlay.active { display: block; }
    </style>
</head>
<body>

    <nav>
        <div class="nav-btns">
            <button class="icon-btn" onclick="history.back()">← Back</button>
            <a href="index.html" class="icon-btn">Home</a>
        </div>
        <a href="index.html" class="logo">OLB</a>
        <div class="nav-btns">
            <button class="icon-btn" onclick="toggleTheme()">Theme</button>
            <button class="icon-btn" onclick="toggleCart()" style="color: var(--gold)">Bag (<span id="cart-count">0</span>)</button>
        </div>
    </nav>

    <div class="catalog-container">
        <div class="catalog-header">
            <h1>The Global Collection</h1>
            <p style="opacity: 0.6; font-size: 0.8rem; letter-spacing: 2px;">CURATED ATELIER PIECES • AVAILABLE NOW</p>
        </div>

        <div class="product-grid" id="main-grid">
            </div>
    </div>

    <div class="overlay" id="overlay" onclick="toggleCart()"></div>
    <div class="cart-panel" id="cart-panel">
        <h2 style="font-family: 'Bodoni Moda';">Shopping Bag</h2>
        <div class="cart-items" id="cart-list"></div>
        
        <div class="cart-total-row">
            <input type="email" id="checkout-email" placeholder="Email Address" style="width:100%; padding:10px; margin-bottom:15px; background:transparent; border:1px solid var(--border); color:var(--text)">
            <div style="display:flex; justify-content:space-between; font-weight:700">
                <span>SUBTOTAL</span>
                <span id="subtotal-val">₦0</span>
            </div>
        </div>
        <button class="paystack-btn" onclick="payNow()">CHECKOUT WITH PAYSTACK</button>
    </div>

    <script>
        // 1. GENERATE 100 ITEMS AUTOMATICALLY
        const categories = ["Bespoke", "Ready-to-Wear", "Limited Edition", "Traditional"];
        const styles = ["Agbada", "Kaftan", "Blazer", "Tuxedo", "Tunic", "Velvet Suit"];
        const colors = ["Forest Green", "Deep Brown", "Gold Thread", "Onyx Black", "Ivory Silk"];
        
        const products = [];
        for (let i = 1; i <= 100; i++) {
            products.push({
                id: i,
                name: `${colors[i % 5]} ${styles[i % 6]}`,
                price: Math.floor(Math.random() * (500000 - 80000) + 80000),
                img: `https://images.unsplash.com/photo-${1590000000000 + i}?auto=format&fit=crop&q=60&w=400`
            });
        }

        let cart = [];

        // 2. RENDER THE 100 ITEMS
        function renderGrid() {
            const grid = document.getElementById('main-grid');
            grid.innerHTML = products.map(p => `
                <div class="item-card">
                    <img class="item-img" src="${p.img}" alt="Olb Design" onerror="this.src='https://images.unsplash.com/photo-1594932224456-74971260a925?w=400'">
                    <h4>${p.name}</h4>
                    <p class="item-price">₦${p.price.toLocaleString()}</p>
                    <button class="buy-btn" onclick="addToCart(${p.id})">ADD TO BAG</button>
                </div>
            `).join('');
        }

        // 3. CART LOGIC
        function addToCart(id) {
            const item = products.find(p => p.id === id);
            cart.push(item);
            updateUI();
            toggleCart(true);
        }

        function updateUI() {
            document.getElementById('cart-count').innerText = cart.length;
            const list = document.getElementById('cart-list');
            list.innerHTML = cart.map((item, idx) => `
                <div style="display:flex; justify-content:space-between; margin-bottom:15px; font-size:0.8rem">
                    <span>${item.name}</span>
                    <span>₦${item.price.toLocaleString()} <span onclick="remove(${idx})" style="color:red; cursor:pointer; margin-left:10px">X</span></span>
                </div>
            `).join('');
            const total = cart.reduce((s, i) => s + i.price, 0);
            document.getElementById('subtotal-val').innerText = `₦${total.toLocaleString()}`;
        }

        function remove(idx) { cart.splice(idx, 1); updateUI(); }

        function toggleCart(force = null) {
            const panel = document.getElementById('cart-panel');
            const overlay = document.getElementById('overlay');
            if(force === true) { panel.classList.add('open'); overlay.classList.add('active'); }
            else { panel.classList.toggle('open'); overlay.classList.toggle('active'); }
        }

        // 4. PAYSTACK INTEGRATION
        function payNow() {
            const email = document.getElementById('checkout-email').value;
            const total = cart.reduce((s, i) => s + i.price, 0);
            if(!email) return alert("Enter email");
            if(total === 0) return alert("Cart empty");

            let handler = PaystackPop.setup({
                key: 'pk_test_xxxxxxxxxxxxxxxxxxxxxxxx', // Replace with your Public Key
                email: email,
                amount: total * 100, // Kobo
                currency: "NGN",
                ref: 'OLB-'+Math.floor((Math.random() * 1000000000) + 1),
                callback: function(res) {
                    alert('Payment Success: ' + res.reference);
                    cart = []; updateUI(); toggleCart();
                }
            });
            handler.openIframe();
        }

        // 5. THEME TOGGLE
        function toggleTheme() {
            const html = document.documentElement;
            const next = html.getAttribute('data-theme') === 'dark' ? 'light' : 'dark';
            html.setAttribute('data-theme', next);
        }

        renderGrid();
    </script>
</body>
</html>